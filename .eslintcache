[{"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\index.js":"1","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\reportWebVitals.js":"2","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\App\\App.js":"3","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Util\\Constants.js":"4","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Dashboard\\Dashboard.js":"5","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Register\\Register.js":"6","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Login\\Login.js":"7","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\CustomLink\\CustomLink.js":"8","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Dashboard\\Packages\\Packages.js":"9","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Dashboard\\Labels\\Labels.js":"10","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Dashboard\\Packages\\PackageTile.js":"11","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Dashboard\\Labels\\LabelTile.js":"12","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Dashboard\\Packages\\CreatePackage.js":"13","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Dashboard\\Packages\\UpdatePackage.js":"14","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Login\\LoginAuth0.js":"15"},{"size":1305,"mtime":1610901980137,"results":"16","hashOfConfig":"17"},{"size":362,"mtime":499162500000,"results":"18","hashOfConfig":"17"},{"size":1882,"mtime":1610355581512,"results":"19","hashOfConfig":"17"},{"size":470,"mtime":1610892698537,"results":"20","hashOfConfig":"17"},{"size":1607,"mtime":1610353677492,"results":"21","hashOfConfig":"17"},{"size":5171,"mtime":1610353685861,"results":"22","hashOfConfig":"17"},{"size":3542,"mtime":1610898953129,"results":"23","hashOfConfig":"17"},{"size":290,"mtime":1610188943026,"results":"24","hashOfConfig":"17"},{"size":2155,"mtime":1610820112557,"results":"25","hashOfConfig":"17"},{"size":2165,"mtime":1610353442685,"results":"26","hashOfConfig":"17"},{"size":1556,"mtime":1610814930001,"results":"27","hashOfConfig":"17"},{"size":1667,"mtime":1610353471308,"results":"28","hashOfConfig":"17"},{"size":1756,"mtime":1610353696946,"results":"29","hashOfConfig":"17"},{"size":2440,"mtime":1610820225466,"results":"30","hashOfConfig":"17"},{"size":309,"mtime":1610893296621,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"yu4ozm",{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\index.js",[],"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\reportWebVitals.js",[],["64","65"],"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\App\\App.js",[],"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Util\\Constants.js",[],"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Dashboard\\Dashboard.js",[],"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Register\\Register.js",[],"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Login\\Login.js",["66"],"import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport {CustomLink} from '../CustomLink/CustomLink';\r\nimport './Login.css';\r\nimport { API_URL_PATH, API_URL_LOGIN_SUFIX, REACT_DASHBOARD_PATH } from '../Util/Constants';\r\nimport { Container, Form, FormControl, Button, Alert, Row, Col } from 'react-bootstrap';\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nasync function loginCourier(credentials) {\r\n    return fetch(API_URL_PATH+API_URL_LOGIN_SUFIX, {\r\n        method : 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(credentials)\r\n    })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            if (data.error) {\r\n                return { success: false, message: data.error};\r\n            } else {\r\n                return { success: true, message: data.token};\r\n            }\r\n        })\r\n}\r\n\r\nexport default function Login(props) {\r\n    const [login, setLogin] = useState();\r\n    const [password, setPassword] = useState();\r\n    const [message, setMessage ] = useState();\r\n    const { user, isAuthenticated, getAccessTokenWithPopup } = useAuth0();\r\n\r\n    const handleLoginAuth0 = () => {\r\n        console.log(user);\r\n        getAccessTokenWithPopup()\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n\r\n    }\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        loginCourier({\r\n            login,\r\n            password\r\n        })\r\n        .then( (response) => {\r\n            if( response.success ){\r\n                localStorage.setItem(\"token\", response.message);\r\n                localStorage.setItem(\"user\", login);\r\n                props.setToken(response.message);\r\n            } else {\r\n                setMessage(response.message);\r\n            }\r\n        }\r\n        );\r\n    }\r\n\r\n    if (props.token) {\r\n        return <Redirect to={{\r\n            pathname : REACT_DASHBOARD_PATH,\r\n            state : { message : \"You have been logged in\"}\r\n        }} />\r\n    }\r\n\r\n    return(\r\n        <Container fluid=\"true\">\r\n            <Row className=\"text-center page-title\">\r\n                <h2>Login</h2>\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                <Col md={{ span : 4}}>\r\n                    {props.location && props.location.state && props.location.state.message && <Alert variant=\"warning\">{props.location.state.message}</Alert>}\r\n                </Col>\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                <Col md={{span : 4}}>\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <FormControl onChange={e => setLogin(e.target.value)} placeholder=\"Username\" type=\"text\" className=\"input-form\"/>\r\n                        <FormControl onChange={e => setPassword(e.target.value)} placeholder=\"Password\" type=\"password\" className=\"input-form\"/> \r\n                        <Button as=\"input\" type=\"submit\" value=\"Submit\" />\r\n                        <CustomLink to=\"/register\" text=\"Don't have an account? Register now!\"/>\r\n                        <Button as=\"input\" type=\"button\" value=\"Log In With Auth0\" onClick={handleLoginAuth0} />\r\n                    </Form>\r\n                </Col>\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                <Col md={{ span : 4}}>\r\n                    {message && <Alert variant=\"danger\">{message}</Alert>}\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\CustomLink\\CustomLink.js",[],"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Dashboard\\Packages\\Packages.js",[],"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Dashboard\\Labels\\Labels.js",[],"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Dashboard\\Packages\\PackageTile.js",[],"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Dashboard\\Labels\\LabelTile.js",[],"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Dashboard\\Packages\\CreatePackage.js",[],"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Dashboard\\Packages\\UpdatePackage.js",[],"E:\\PLIKI\\PROJEKTY\\inposter-courier\\src\\components\\Login\\LoginAuth0.js",[],{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","severity":1,"message":"72","line":31,"column":19,"nodeType":"73","messageId":"74","endLine":31,"endColumn":34},"no-native-reassign",["75"],"no-negated-in-lhs",["76"],"no-unused-vars","'isAuthenticated' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]